CREATE TABLE LOCKSMITH (
        lockID char(3) NOT NULL,
        lockfname varchar(30),
        locklname varchar(30),
        primary key(lockID));

CREATE TABLE JOB (
        jobID char(9) NOT NULL,
        lockID char(3),
        jobdate date,
        numkeys int,
        numlocks int,
        cost dec(7,2),
        address varchar(100),
        locksmithnotes varchar(100),
        primary key(jobID),
        foreign key(lockID) references LOCKSMITH(lockID));

CREATE TABLE KEYLOCK (
        keyID char(3) NOT NULL,
        jobID char(9) NOT NULL,
        unit varchar(100),
        keyway char(3),
        combination char(5),
        primary key(keyID, jobID),
        foreign key(jobID) references JOB(jobID));

CREATE ROLE 'owner', 'employee';

GRANT INSERT ON JOB.* TO 'employee'; 
GRANT INSERT ON KEYLOCK.* TO 'employee'; 

GRANT SELECT, INSERT, UPDATE, DELETE ON LOCKSMITH.* TO 'owner'; 
GRANT SELECT, INSERT, UPDATE, DELETE ON JOB.* TO 'owner'; 
GRANT SELECT, INSERT, UPDATE, DELETE ON KEYLOCK.* TO 'owner';


INSERT INTO LOCKSMITH
VALUES (000, 'Blaize', 'Bywater');

INSERT INTO JOB
VALUES (9876, 000, '2021-12-01', 1, 1, 500.00, '1234 random blvd', 'beware of dog');

INSERT INTO KEYLOCK
VALUES (001, 9876, 'Sac State Dorm 191', 'KW1', '01010');
